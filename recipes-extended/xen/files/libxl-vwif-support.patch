diff --git a/tools/libxl/libxl_device.c b/tools/libxl/libxl_device.c
index be4343c0f0..6f69004a61 100644
--- a/tools/libxl/libxl_device.c
+++ b/tools/libxl/libxl_device.c
@@ -789,7 +789,8 @@ int libxl__device_destroy(libxl__gc *gc, libxl__device *dev)
             libxl__xs_path_cleanup(gc, t, be_path);
         }
 
-        if (dev->kind == LIBXL__DEVICE_KIND_VIF) {
+        if (dev->kind == LIBXL__DEVICE_KIND_VIF ||
+            dev->kind == LIBXL__DEVICE_KIND_VWIF) {
             libxl__xs_path_cleanup(gc, t, be_path);
         }
 
@@ -1337,7 +1338,9 @@ static void device_destroy_be_watch_cb(libxl__egc *egc,
      * in xenstore. NDVM doesn't do that, so let's not wait forever
      * here. libxl will take care of the xenstore nodes later
      */
-    if (dir && aodev->dev->kind != LIBXL__DEVICE_KIND_VIF) {
+    if (dir &&
+        aodev->dev->kind != LIBXL__DEVICE_KIND_VIF &&
+        aodev->dev->kind != LIBXL__DEVICE_KIND_VWIF) {
         /* backend path still exists, wait a little longer... */
         return;
     }
@@ -1470,6 +1473,15 @@ int libxl__device_nextid(libxl__gc *gc, uint32_t domid,
     else
         nextid = strtoul(l[nb - 1], NULL, 10) + 1;
 
+    /* We need VIFs and VWIFs the be on the same ID pool */
+    if (!strcmp(device, "vif")) {
+        int nextidvwif;
+
+        nextidvwif = libxl__device_nextid(gc, domid, "vwif");
+        if (nextidvwif > nextid)
+            return nextidvwif;
+    }
+
     return nextid;
 }
 
@@ -1608,9 +1620,11 @@ static int add_device(libxl__egc *egc, libxl__ao *ao,
 
     switch(dev->backend_kind) {
     case LIBXL__DEVICE_KIND_VBD:
+    case LIBXL__DEVICE_KIND_VWIF:
     case LIBXL__DEVICE_KIND_VIF:
-        if (dev->backend_kind == LIBXL__DEVICE_KIND_VBD) dguest->num_vbds++;
-        if (dev->backend_kind == LIBXL__DEVICE_KIND_VIF) dguest->num_vifs++;
+        if (dev->backend_kind == LIBXL__DEVICE_KIND_VBD)  dguest->num_vbds++;
+        if (dev->backend_kind == LIBXL__DEVICE_KIND_VWIF) dguest->num_vifs++;
+        if (dev->backend_kind == LIBXL__DEVICE_KIND_VIF)  dguest->num_vifs++;
 
         GCNEW(aodev);
         libxl__prepare_ao_device(ao, aodev);
@@ -1656,9 +1670,11 @@ static int remove_device(libxl__egc *egc, libxl__ao *ao,
 
     switch(ddev->dev->backend_kind) {
     case LIBXL__DEVICE_KIND_VBD:
+    case LIBXL__DEVICE_KIND_VWIF:
     case LIBXL__DEVICE_KIND_VIF:
-        if (dev->backend_kind == LIBXL__DEVICE_KIND_VBD) dguest->num_vbds--;
-        if (dev->backend_kind == LIBXL__DEVICE_KIND_VIF) dguest->num_vifs--;
+        if (dev->backend_kind == LIBXL__DEVICE_KIND_VBD)  dguest->num_vbds--;
+        if (dev->backend_kind == LIBXL__DEVICE_KIND_VWIF) dguest->num_vifs--;
+        if (dev->backend_kind == LIBXL__DEVICE_KIND_VIF)  dguest->num_vifs--;
 
         GCNEW(aodev);
         libxl__prepare_ao_device(ao, aodev);
@@ -1993,7 +2009,8 @@ void libxl__device_add_async(libxl__egc *egc, uint32_t domid,
     aodev->action = LIBXL__DEVICE_ACTION_ADD;
     libxl__wait_device_connection(egc, aodev);
 
-    if (device->backend_kind == LIBXL__DEVICE_KIND_VIF)
+    if (device->backend_kind == LIBXL__DEVICE_KIND_VIF ||
+        device->backend_kind == LIBXL__DEVICE_KIND_VWIF)
         libxl__xs_printf(gc, XBT_NULL,
                          GCSPRINTF("%s/hotplug-status",
                                    libxl__device_backend_path(gc, device)),
diff --git a/tools/libxl/libxl_dm.c b/tools/libxl/libxl_dm.c
index e2f3943c86..5af7094afc 100644
--- a/tools/libxl/libxl_dm.c
+++ b/tools/libxl/libxl_dm.c
@@ -1248,9 +1248,12 @@ static int libxl__build_device_model_args_new(libxl__gc *gc,
                                                 LIBXL_NIC_TYPE_VIF_IOEMU);
                 flexarray_append(dm_args, "-device");
                 flexarray_append(dm_args,
-                   GCSPRINTF("%s,id=vif%d,netdev=net%d,mac=%s",
-                             nics[i].model, nics[i].devid,
-                             nics[i].devid, smac));
+                   GCSPRINTF("%s,id=%s%d,netdev=net%d,mac=%s",
+                             nics[i].model,
+                             (libxl_defbool_val(nics[i].wireless)) ? "vwif" : "vif",
+                             nics[i].devid,
+                             nics[i].devid,
+                             smac));
                 flexarray_append(dm_args, "-netdev");
                 flexarray_append(dm_args,
                                  GCSPRINTF("type=tap,id=net%d,ifname=%s,"
@@ -1768,6 +1771,9 @@ static void libxl__dm_vifs_from_hvm_guest_config(libxl__gc *gc,
         libxl_device_nic_init(&dm_config->nics[i]);
         libxl_device_nic_copy(ctx, &dm_config->nics[i], &guest_config->nics[i]);
         dm_config->nics[i].nictype = LIBXL_NIC_TYPE_VIF;
+        /* Stubdoms use Linux netfront, which doesn't handle VWIFs */
+        libxl_defbool_set(&dm_config->nics[i].wireless, false);
+
         if (dm_config->nics[i].ifname)
             dm_config->nics[i].ifname = GCSPRINTF("%s" TAP_DEVICE_SUFFIX,
                                                   dm_config->nics[i].ifname);
diff --git a/tools/libxl/libxl_linux.c b/tools/libxl/libxl_linux.c
index 6ef0abc693..edb4d36163 100644
--- a/tools/libxl/libxl_linux.c
+++ b/tools/libxl/libxl_linux.c
@@ -51,7 +51,8 @@ static char **get_hotplug_env(libxl__gc *gc,
     env[nr++] = GCSPRINTF("backend/%s/%u/%d", type, dev->domid, dev->devid);
     env[nr++] = "XENBUS_BASE_PATH";
     env[nr++] = "backend";
-    if (dev->backend_kind == LIBXL__DEVICE_KIND_VIF) {
+    if (dev->backend_kind == LIBXL__DEVICE_KIND_VIF ||
+        dev->backend_kind == LIBXL__DEVICE_KIND_VWIF) {
         libxl_nic_type nictype;
         char *gatewaydev;
 
@@ -207,6 +208,7 @@ int libxl__get_hotplug_script_info(libxl__gc *gc, libxl__device *dev,
         rc = libxl__hotplug_disk(gc, dev, args, env, action);
         break;
     case LIBXL__DEVICE_KIND_VIF:
+    case LIBXL__DEVICE_KIND_VWIF:
         /*
          * If domain has a stubdom we don't have to execute hotplug scripts
          * for emulated interfaces
diff --git a/tools/libxl/libxl_nic.c b/tools/libxl/libxl_nic.c
index 51236d83e7..d5e8e3a44b 100644
--- a/tools/libxl/libxl_nic.c
+++ b/tools/libxl/libxl_nic.c
@@ -58,6 +58,7 @@ static int libxl__device_nic_setdefault(libxl__gc *gc, uint32_t domid,
 {
     int rc;
 
+    libxl_defbool_setdefault(&nic->wireless, false);
     if (!nic->mtu)
         nic->mtu = 1492;
     if (!nic->model) {
@@ -259,6 +260,7 @@ static int libxl__nic_from_xenstore(libxl__gc *gc, const char *libxl_path,
     int rc;
 
     libxl_device_nic_init(nic);
+    libxl_defbool_setdefault(&nic->wireless, false);
 
     rc = libxl__xs_read_checked(gc, XBT_NULL,
                                 GCSPRINTF("%s/handle", libxl_path), &tmp);
@@ -277,6 +279,10 @@ static int libxl__nic_from_xenstore(libxl__gc *gc, const char *libxl_path,
         rc = ERROR_FAIL;
         goto out;
     }
+
+    if (strstr(tmp, "vwif"))
+        libxl_defbool_set(&nic->wireless, true);
+
     rc = libxl__backendpath_parse_domid(gc, tmp, &nic->backend_domid);
     if (rc) goto out;
 
@@ -413,10 +419,16 @@ int libxl_device_nic_getinfo(libxl_ctx *ctx, uint32_t domid,
 
     nicinfo->devid = nic->devid;
 
-    nicpath = libxl__domain_device_frontend_path(gc, domid, nicinfo->devid,
-                                                 LIBXL__DEVICE_KIND_VIF);
-    libxl_path = libxl__domain_device_libxl_path(gc, domid, nicinfo->devid,
-                                                 LIBXL__DEVICE_KIND_VIF);
+    if (libxl_defbool_val(nic->wireless)) {
+        nicpath = GCSPRINTF("%s/device/vwif/%d", dompath, nicinfo->devid);
+        libxl_path = GCSPRINTF("%s/device/vwif/%d",
+                               libxl__xs_libxl_path(gc, domid), nicinfo->devid);
+    } else {
+        nicpath = GCSPRINTF("%s/device/vif/%d", dompath, nicinfo->devid);
+        libxl_path = GCSPRINTF("%s/device/vif/%d",
+                               libxl__xs_libxl_path(gc, domid), nicinfo->devid);
+    }
+
     nicinfo->backend = xs_read(ctx->xsh, XBT_NULL,
                                 GCSPRINTF("%s/backend", libxl_path), NULL);
     if (!nicinfo->backend) {
diff --git a/tools/libxl/libxl_types.idl b/tools/libxl/libxl_types.idl
index 516d42ed00..f8955b6810 100644
--- a/tools/libxl/libxl_types.idl
+++ b/tools/libxl/libxl_types.idl
@@ -689,6 +689,7 @@ libxl_device_nic = Struct("device_nic", [
     ("rate_bytes_per_interval", uint64),
     ("rate_interval_usecs", uint32),
     ("gatewaydev", string),
+    ("wireless", libxl_defbool),
     # Note that the COLO configuration settings should be considered unstable.
     # They may change incompatibly in future versions of Xen.
     ("coloft_forwarddev", string),
diff --git a/tools/libxl/libxl_types_internal.idl b/tools/libxl/libxl_types_internal.idl
index f2ff01718d..1c2cc38f59 100644
--- a/tools/libxl/libxl_types_internal.idl
+++ b/tools/libxl/libxl_types_internal.idl
@@ -29,6 +29,7 @@ libxl__device_kind = Enumeration("device_kind", [
     (12, "VDISPL"),
     (13, "VUART"),
     (14, "PVCALLS"),
+    (15, "VWIF"),
     ])
 
 libxl__console_backend = Enumeration("console_backend", [
diff --git a/tools/xl/xl_parse.c b/tools/xl/xl_parse.c
index 4d05f1822d..8a6001ca16 100644
--- a/tools/xl/xl_parse.c
+++ b/tools/xl/xl_parse.c
@@ -557,6 +557,8 @@ int parse_nic_config(libxl_device_nic *nic, XLU_Config **config, char *token)
         replace_string(&nic->colo_checkpoint_port, oparg);
     } else if (MATCH_OPTION("accel", token, oparg)) {
         fprintf(stderr, "the accel parameter for vifs is currently not supported\n");
+    } else if (MATCH_OPTION("wireless", token, oparg)) {
+        libxl_defbool_set(&nic->wireless, (oparg && *oparg == '1'));
     } else if (MATCH_OPTION("devid", token, oparg)) {
         nic->devid = parse_ulong(oparg);
     } else {
